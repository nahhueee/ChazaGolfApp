<div class="contenido">
    <div class="tabla">
        <p-table 
        [value]="ventas"
        [lazy]="true"
        [paginator]="true"
        [rows]="10"
        [totalRecords]="totalRecords"
        (onLazyLoad)="Buscar($event)"
        [loading]="loading"
        [rowsPerPageOptions]="[10,20,50]"
        [tableStyle]="{ 'min-width': '60rem' }">
        
            <ng-template #header>
                <tr>
                    <th>Editar</th>
                    <th>Proceso</th>
                    <th>Fecha</th>
                    <th>Hora</th>
                    <th>Cliente</th>
                    <th>Total</th>
                    @if(tipo == 'factura'){
                        <th>Estado</th>
                    }
                </tr>
            </ng-template>
            <ng-template #body let-venta>
                <tr>
                    <td>
                        <p-button severity="warn" styleClass="p-button-sm" [rounded]="true" [outlined]="true" icon="pi pi-pencil" (onClick)="Editar(venta.id)" pTooltip="Editar" tooltipPosition="bottom"/>
                    </td>
                    <td>{{ venta.proceso }}</td>
                    <td>{{ venta.fecha | date:'dd-MM-yyyy' }}</td>
                    <td>{{ venta.hora }}</td>
                    <td>{{ venta.cliente }}</td>
                    <td>${{ venta.total | decimalFormat }}</td>
                    @if(tipo == 'factura'){
                        <td>
                            @if(venta.factura){
                                <p-tag value="Facturada" severity="success" />
                            }@else{
                                <p-tag value="Pendiente" severity="warn" />
                            }
                        </td>
                    }
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>
